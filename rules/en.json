{
	"defs": {
		"prepos": "and|the|for"
	},

	"rules": {
		"emdash": [
			{
				"regex": "($(european)+)[ $(nbsp)](?:[—–])[ $(nbsp)]",
				"result": "<nobr>$1$(hairspace)—</nobr>$(hairspace)"
			},
			{
				"regex": "($(european)+)[ $(nbsp)](?:[—–])",
				"result": "<nobr>$1$(hairspace)—</nobr>"
			},
			{
				"regex": "(?:[—–])[ $(nbsp)]",
				"result": "—$(hairspace)"
			},
			{
				"regex": "($(european)+)(?:[—–])($(european))",
				"result": "<nobr>$1$(hairspace)—</nobr>$(hairspace)$2"
			}
		],
		"spaces_lite": ["emdash"],

		"hyphen": {
			"regex": "($(noneuropean)|^)((?:$(europeannohyphen){1,2}(?:\\-$(europeannohyphen)+))|(?:$(europeannohyphen)+(?:\\-$(europeannohyphen){1,2})))(?!$(european))",
			"flags": "g",
			"result": "$1<nobr>$2</nobr>"
		},
		"preposition": {
			"regex": "($(noneuropean)|^)($(prepos)) ",
			"result": "$1$2$(nbsp)"
		},
		"spaces": ["hyphen", "preposition"],

		"ellipsis": {
			"regex": "\\.{2,}",
			"result": "…"
		},
		"emdash_lite": [
			{
				"regex": "---?",
				"result": "—"
			},
			{
				"regex": " - ",
				"result": " — "
			},
			{
				"regex": "([,\\)>])- ",
				"result": "$1 — "
			},
			{
				"regex": "(^|\\n)\\-",
				"result": "$1&mdash;",
				"comment": "For strange reason '\n—' replaces '\n' with space"
			}
		],
		"lite": ["ellipsis", "emdash_lite"],

		"quotes": [
			{
				"regex": "(?:\"|&quot;)($(european))",
				"result": "“$1"
			},
			{
				"regex": "(?:\"|&quot;)",
				"result": "”"
			}
		],

		"amp": {
			"regex": "&amp;",
			"result": "<span class=\"amp\">&amp;</span>"
		},

		"abbr": {
			"regex": "($(europeanupper){3,})",
			"flags": "g",
			"result": "<abbr>$1</abbr>"
		}
	}
}
